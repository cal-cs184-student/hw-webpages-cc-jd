<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 3 Write-Up</h1>
		<div style="text-align: center;">Names: Julia Dashzeveg & Cynthia Chen </div>

		<br>

		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-cc-jd/hw3/index.html">cal-cs184-student.github.io/hw-webpages-cc-jd/hw3/index.html</a>
		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/hw-webpages-cc-jd/edit/master/hw3/index.html">github.com/cal-cs184-student/hw-webpages-cc-jd/edit/master/hw3/index.html</a>
		
		<figure>
			<img src="cornell.png" alt="Cornell Boxes with Bunnies" style="width:70%"/>
<!-- 			<figcaption>You can add images with captions!</figcaption> -->
		</figure>

		<!--
		We've already added one heading per part, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Part 1: Ray Generation and Scene Intersection</h2>
		In part 1, we implemented the ray generation and primitive intersection parts of the rendering pipeline. It begins with generating primary rays from the camera, which is handled by the generate_ray method to convert pixel coordinates into rays in world space based on the camera’s parameters. These rays originate from the camera position and shoot out into the scene in directions determined by the camera's projection. The raytrace_pixel method takes these camera rays and determines their radiance contribution by tracing them through the scene. It does this by sampling multiple rays per pixel, estimating radiance using the global illumination method, and averaging the results to determine the final color for that pixel.
                <p>Once a ray is traced, we need to check if it intersects with any objects in the scene. Thus, we implemented the has_intersection and intersect methods for primitives like triangles and spheres. For ray-triangle intersection, we can use the Möller-Trumbore algorithm to check if there’s a hit, and for ray-sphere intersection, we can solve the quadratic equation. These functions determine whether the ray hits an object, where it hits, and populates the input Intersection structure with information that will be used later for shading calculations.
                </p>
		<p>Ray-Triangle Intersection Algorithm: the Möller-Trumbore algorithm is used to efficiently determine whether a ray intersects a given triangle in 3D space. We start by computing two edge vectors from the triangle’s three vertices, which help define its plane. Next, we calculate the determinant using the cross product of the ray’s direction and one of the edges, followed by a dot product with the other edge. If this determinant is near zero, the ray is parallel to the triangle, so there’s no intersection. 
To determine the exact intersection point, we compute the barycentric coordinates u and v, which indicate whether the point lies inside the triangle, by calculating dot products with vectors derived from the ray’s origin and triangle edges. If u or v fall outside their valid range, or if their sum is more than 1, the intersection lies outside the triangle. If the intersection is valid, we compute the intersection distance t along the ray and ensure it falls within the ray’s bounds. If so, we update the ray’s maximum intersection distance so that the closest intersection is recorded. Finally, the surface normal is computed using barycentric interpolation of the triangle’s vertex normals to ensure smooth shading, and the intersection data is stored. 
</p>

		<p>Here is an example 2x2 gridlike structure using an HTML table. Each <b>tr</b> is a row and each <b>td</b> is a column in that row. You might find this useful for framing and showing your result images in an organized fashion.</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="part1-1.png" width="400px"/>
				  <figcaption>empty room</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="part1-2.png" width="400px"/>
				  <figcaption>gems</figcaption>
				</td>
		                <td style="text-align: center;">
				  <img src="part1-3.png" width="400px"/>
				  <figcaption>coil</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		
		<h2>Part 2: Bounding Volume Hierarchy</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Part 3: Direct Illumination</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Part 4: Global Illumination</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Part 5: Adaptive Sampling</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Part 6: Extra Credit Opportunities</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		
		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>
